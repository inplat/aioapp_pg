# This file was autogenerated and will overwrite each time you run travis_pypi_setup.py
language: python
python:
  - 3.6
services:
  - docker
sudo: required

install:
  - pip install --upgrade setuptools
  - pip install codecov
  - pip install -r requirements_dev.txt

script:
  - flake8 aioapp_pg examples tests setup.py
  - bandit -r ./aioapp_pg ./examples setup.py
  - mypy aioapp_pg examples setup.py --ignore-missing-imports
  - py.test -v --cov-report term --cov-report html --cov aioapp_pg ./tests
after_success: codecov

deploy:
  provider: pypi
  user: inplat
  distributions: sdist bdist_wheel
  password:
    secure: !!binary |
      bmpPdC9KWXd1d0syMFZnMDJzcVFoaG9SMVRmUXRIU2FrMDZEb0Vub2UzUWVRZFVzTFJBU0lhYy95
      ajByc3FHQVBLZlRVdXN3S2xyR3Zza1F2Qm5teU0zL2hHU09JNWxNcHlCWHgwbER5UGlUcWhSQjly
      SUlVaDZWYjV3M21qa1R4STNQZFlEdVBEc0hXWG85dDNOK09OUmNsbGQ4Mmg2Wlkvb3Fpa2pvdHVH
      SG9JYlBoVnNPeENCSmFuYUF6UStWZ3dYL3puRjNUQ3FiLzVpemQxZUdtbVFmRlBKckxReksyOG1J
      eHBiODFreStzVlh5bUZiUEFSMTlUTE12WWxQKzVFYkxpSm9TVlVJUXU0c3F2Y3FtSnVNUjJ4RjRZ
      VUdSSHoydDlDak11dUlsYzhMTmQ0alEwYWtRRXJqbGZJalNFNUtoay9INHdCcSs3VmtIYnlOa3Vt
      Q3NrNVVXVzhtWDBDUGkzenhLMUpQNUx0b2laS3pQSzBGN2E1Z1lwbVlvSWpuNFdjR1l4OXhZVlFh
      dWV6aURRRmJKS2FLc01mb0Fyc095bytKZ0F2dmNKNWVzdU53dGs3NkN3bmVtbEkvVnp1b2d2aW5r
      elh5M3ZZUXlyVHhMNmY3ZEZjVWZXMEZ0M3VOV0JiNTZrb1c4K2REd2FKS0RNLzJiaUJOaDJoMFIv
      QnE1dHI5bmFyeWN4MnNKcDBxWGx3RTJqVU1VZzlsOU5NRXg1OWJYQlVJY1RzRnVsQUl3Q0ljTVRn
      dHVIRC82NG5HR3EwbmJ5dGw2U01vTGNjTXVtL2J2VU5XNXdibzhncFNaNlN1N05VckRKMDBsdVFy
      NWdOeHAxZ01aNlhmK2FpdCtCOEZ6MS9xRlgrVTBlTlg2VzF5Z0VrSmcySGdIRFN2RC9Ic21xaE09
  true:
    tags: true
